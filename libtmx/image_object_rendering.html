<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>libtmx: How to render image objects with libtmx?</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libtmx
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
   <div id="projectbrief">an C++11 library for reading TMX files</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">How to render image objects with libtmx? </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>An image object is an image that is part of an object layer in Tiled. This image is associated with a tile in a tileset. It is represented by a <code><a class="el" href="classtmx_1_1_tile_object.html" title="A tile object is an image put in the map. ">tmx::TileObject</a></code> in the library. This tutorial provides some hints on how to render this type of object in a neutral way, You should read <a class="el" href="tile_rendering.html">How to render tiles with libtmx?</a> before reading this tutorial as the first step is the same.</p>
<h2>Visit the layer</h2>
<p>We visit the object layer.</p>
<div class="fragment"><div class="line"><span class="keyword">virtual</span> <span class="keywordtype">void</span> visitObjectLayer(<span class="keyword">const</span> <a class="code" href="classtmx_1_1_map.html">tmx::Map</a>&amp; map, <span class="keyword">const</span> <a class="code" href="classtmx_1_1_object_layer.html">tmx::ObjectLayer</a> &amp;layer)<span class="keyword"> override </span>{</div>
<div class="line">  <span class="keywordflow">if</span> (!layer.<a class="code" href="classtmx_1_1_layer.html#ae317c1c871f6fc034bea58c515b45dd0">isVisible</a>()) {</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> obj : layer) {</div>
<div class="line">    <span class="keywordflow">if</span> (!obj-&gt;isTile()) {</div>
<div class="line">      <span class="keywordflow">continue</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">auto</span> tile = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classtmx_1_1_tile_object.html">tmx::TileObject</a> *<span class="keyword">&gt;</span>(obj);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> x = tile-&gt;getX();</div>
<div class="line">    <span class="keywordtype">unsigned</span> y = tile-&gt;getY();</div>
<div class="line">    <span class="keywordtype">unsigned</span> gid = tile-&gt;getGID();</div>
<div class="line"></div>
<div class="line">    drawObjectGID(map, x, y, gid);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --><p>First, it's not necessary to render the layer if it's not visible. This visibility property can be set in Tiled. Then if we find an image object in the objects of this layer, then we get its position and its gid and draw it.</p>
<h2>Draw the image</h2>
<p>The procedure for drawing the image is quite the same as the one in <a class="el" href="tile_rendering.html">How to render tiles with libtmx?</a>, except the call to <code>drawImage</code>. Indeed, the origin of the image object is not at the top left of the image but at the bottom left. So the call to <code>drawImage</code> is something like:</p>
<div class="fragment"><div class="line">drawImage(x, y - height, texture, rect); <span class="comment">// depends on the toolkit</span></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="tile_rendering.html">How to render tiles with libtmx?</a> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 19 2015 00:27:16 for libtmx by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
